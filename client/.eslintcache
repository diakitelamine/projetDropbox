[{"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\index.js":"1","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\serviceWorker.js":"2","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\App.js":"3","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\_reducers\\index.js":"4","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\hoc\\auth.js":"5","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\LandingPage\\LandingPage.js":"6","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\Header\\Header.js":"7","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\LoginPage\\LoginPage.js":"8","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\RegisterPage\\RegisterPage.js":"9","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\FindPasswordPage\\ForgotPasswordPage.js":"10","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\FindPasswordPage\\ResetPasswordPage.js":"11","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\_reducers\\user_reducer.js":"12","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\_actions\\user_actions.js":"13","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\_actions\\types.js":"14","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\Routes\\AppRouter.js":"15","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\FilesList.js":"16","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\App.js":"17","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\Header.js":"18"},{"size":1128,"mtime":1610831091704,"results":"19","hashOfConfig":"20"},{"size":3666,"mtime":1610831218123,"results":"21","hashOfConfig":"20"},{"size":1180,"mtime":1610887013014,"results":"22","hashOfConfig":"20"},{"size":212,"mtime":1595517658000,"results":"23","hashOfConfig":"20"},{"size":1390,"mtime":1610832450072,"results":"24","hashOfConfig":"20"},{"size":377,"mtime":1610832783359,"results":"25","hashOfConfig":"20"},{"size":5018,"mtime":1610837938213,"results":"26","hashOfConfig":"20"},{"size":4527,"mtime":1610838079341,"results":"27","hashOfConfig":"20"},{"size":6296,"mtime":1610843993341,"results":"28","hashOfConfig":"20"},{"size":3572,"mtime":1610837760012,"results":"29","hashOfConfig":"20"},{"size":5979,"mtime":1610836885154,"results":"30","hashOfConfig":"20"},{"size":430,"mtime":1610833186311,"results":"31","hashOfConfig":"20"},{"size":749,"mtime":1595517658000,"results":"32","hashOfConfig":"20"},{"size":145,"mtime":1595517658000,"results":"33","hashOfConfig":"20"},{"size":573,"mtime":1610850242743,"results":"34","hashOfConfig":"20"},{"size":2369,"mtime":1610881131201,"results":"35","hashOfConfig":"20"},{"size":4654,"mtime":1610881102771,"results":"36","hashOfConfig":"20"},{"size":434,"mtime":1610850122455,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"1g47d9v",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"40"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"40"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\index.js",[],["78","79"],"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\serviceWorker.js",[],"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\App.js",[],"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\_reducers\\index.js",[],"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\hoc\\auth.js",["80"],"import React, { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { auth } from \"../_actions/user_actions\";\n\nexport default (SpecificComponent, option, adminRoute = null) => {\n\n  function AuthenticationCheck(props) {\n    const dispatch = useDispatch();\n    useEffect(() => {\n     // Dispatch fonctionne à chaque fois que la page est déplacée, envoyant des requêtes au backend en continu\n      dispatch(auth()).then((response) => {\n        // // pas connecté\n        if (!response.payload.isAuth) {\n          // Si vous n'êtes pas connecté et essayez d'entrer une page que seules les personnes connectées peuvent entrer\n          // Envoyer à la page de connexion.\n          if (option) {\n            props.history.push(\"/login\");\n          }\n        } else {\n          // connecté\n          // Si vous n'êtes pas un administrateur mais essayez d'accéder à la page réservée aux administrateurs\n          if (adminRoute && !response.payload.isAdmin) {\n            props.history.push(\"/\");\n          } else {\n            // Si vous vous connectez mais essayez d'entrer une page (connexion, etc.) que la personne connectée ne peut pas entrer\n            if (option === false) props.history.push(\"/\");\n          }\n        }\n      });\n    }, [dispatch, props.history]);\n\n    return <SpecificComponent {...props} />;\n  }\n\n  return AuthenticationCheck;\n};\n","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\LandingPage\\LandingPage.js",[],"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\Header\\Header.js",["81"],"import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport { auth } from \"../../_actions/user_actions\";\nimport { withRouter } from \"react-router-dom\";\n\nimport { AppBar, Button, Toolbar, Menu, MenuItem } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  appBar: {\n    background: \"#757ce8\",\n  },\n  title: {\n    flexGrow: 1,\n  },\n  settingsIcon: {\n    marginRight: theme.spacing(1),\n  },\n}));\n\nfunction Header(props) {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const [isLogin, setIsLogin] = useState(false);\n  const [anchorElSettings, setAnchorElSettings] = useState(null);\n  const [anchorElMypage, setAnchorElMypage] = useState(null);\n  // const [checked, setChecked] = useState(false);\n  const openSettings = Boolean(anchorElSettings);\n  const openMypage = Boolean(anchorElMypage);\n\n  useEffect(() => {\n   // Chaque fois que la page est déplacée, l'envoi est activé et le backend est continuellement sollicité.\n    dispatch(auth()).then((response) => {\n      // Lorsqu'il n'est pas connecté, affiche le bouton de connexion\n      if (!response.payload.isAuth) {\n        setIsLogin(false);\n      } else {\n        // Une fois connecté, affiche le bouton membre\n        // Bouton Membre avec deux menus: Ma page et Déconnexion\n        setIsLogin(true);\n      }\n    });\n  }, [props.history.location.pathname]);\n\n  const handleMenuSettings = (event) => {\n    setAnchorElSettings(event.currentTarget);\n  };\n\n  const handleMenuMypage = (event) => {\n    setAnchorElMypage(event.currentTarget);\n  };\n\n  const handleCloseSettings = () => {\n    setAnchorElSettings(null);\n  };\n\n  const handleCloseMypage = () => {\n    setAnchorElMypage(null);\n  };\n\n  const handleLogout = () => {\n    axios.get(\"/api/users/logout\").then((response) => {\n      if (response.data.success) {\n        setIsLogin(false);\n        props.history.push(\"/login\");\n      } else {\n        alert(\"Échec de la déconnexion.\");\n      }\n    });\n    setAnchorElMypage(null);\n  };\n\n  const handleLogin = () => {\n    props.history.push(\"/login\");\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\" className={classes.appBar}>\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n            <a href=\"/\" style={{ color: \"white\", textDecoration: \"none\" }}>\n              Dropbox\n            </a>\n          </Typography>\n          <IconButton\n            aria-label=\"Réglages\"\n            aria-haspopup=\"true\"\n            color=\"inherit\"\n            onClick={handleMenuSettings}\n          >\n            <SettingsIcon className={classes.settingsIcon} />\n          </IconButton>\n          <Menu\n            id=\"settings-appbar\"\n            anchorEl={anchorElSettings}\n            anchorOrigin={{\n              vertical: \"top\",\n              horizontal: \"right\",\n            }}\n            keepMounted\n            transformOrigin={{\n              vertical: \"top\",\n              horizontal: \"right\",\n            }}\n            open={openSettings}\n            onClose={handleCloseSettings}\n          >\n            <MenuItem onClick={handleCloseSettings}>Réglage 1</MenuItem>\n            <MenuItem onClick={handleCloseSettings}>Réglage 2</MenuItem>\n          </Menu>\n          {/* // Afficher le bouton membre une fois connecté  */}\n          {isLogin && (\n            <div>\n              <IconButton\n                aria-label=\"Compte\"\n                aria-haspopup=\"true\"\n                color=\"inherit\"\n                onClick={handleMenuMypage}\n              >\n                <AccountCircleIcon />\n              </IconButton>\n              <Menu\n                id=\"settings-appbar\"\n                anchorEl={anchorElMypage}\n                anchorOrigin={{\n                  vertical: \"top\",\n                  horizontal: \"right\",\n                }}\n                keepMounted\n                transformOrigin={{\n                  vertical: \"top\",\n                  horizontal: \"right\",\n                }}\n                open={openMypage}\n                onClose={handleCloseMypage}\n              >\n                <MenuItem onClick={handleCloseMypage}>Ma page</MenuItem>\n                <MenuItem onClick={handleLogout}>Se déconnecter</MenuItem>\n              </Menu>\n            </div>\n          )}\n          {/* Lorsqu'il n'est pas connecté, le bouton de connexion s'affiche. */}\n          {!isLogin && (\n            <div>\n              <Button color=\"inherit\" onClick={handleLogin}>\n              S'identifier\n              </Button>\n            </div>\n          )}\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nexport default withRouter(Header);\n","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\LoginPage\\LoginPage.js",[],"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\RegisterPage\\RegisterPage.js",[],"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\FindPasswordPage\\ForgotPasswordPage.js",[],"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\FindPasswordPage\\ResetPasswordPage.js",[],"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\_reducers\\user_reducer.js",["82"],"import { LOGIN_USER, REGISTER_USER, AUTH_USER } from \"../_actions/types\";\n\nexport default function (state = {}, action) {\n  switch (action.type) {\n    case LOGIN_USER:\n      \n      return { ...state, loginSuccess: action.payload };\n\n    case REGISTER_USER:\n      return { ...state, registerSucess: action.payload };\n\n    case AUTH_USER:\n      return { ...state, userData: action.payload };\n\n    default:\n      return state;\n  }\n}\n","C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\_actions\\user_actions.js",[],"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\_actions\\types.js",[],"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\Routes\\AppRouter.js",[],"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\FilesList.js",[],"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\App.js",[],"C:\\Users\\hp\\Pictures\\materiel ui\\client\\src\\components\\Header.js",[],{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","severity":1,"message":"88","line":5,"column":1,"nodeType":"89","endLine":36,"endColumn":3},{"ruleId":"90","severity":1,"message":"91","line":52,"column":6,"nodeType":"92","endLine":52,"endColumn":39,"suggestions":"93"},{"ruleId":"87","severity":1,"message":"94","line":3,"column":1,"nodeType":"89","endLine":18,"endColumn":2},"no-native-reassign",["95"],"no-negated-in-lhs",["96"],"import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["97"],"Unexpected default export of anonymous function","no-global-assign","no-unsafe-negation",{"desc":"98","fix":"99"},"Update the dependencies array to be: [dispatch, props.history.location.pathname]",{"range":"100","text":"101"},[1707,1740],"[dispatch, props.history.location.pathname]"]